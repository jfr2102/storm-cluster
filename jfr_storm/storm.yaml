storm.zookeeper.servers: [zookeeper]
nimbus.seeds: [nimbus]
storm.log.dir: "/logs"
storm.local.dir: "/data"
# just to see if its taking the correct config now
nimbus.code.freq.secs: 118

#Unrecognized VM option 'PrintGCDateStamps' in worker logs, Worker crashing
#https://stackoverflow.com/questions/56902645/topology-just-idles-on-storm-in-remote-mode

worker.childopts: "-Xmx%HEAP-MEM%m -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=artifacts/heapdump"

#metrics reporter
storm.metrics.reporters:
#  Graphite Reporter
  - class: "org.apache.storm.metrics2.reporters.GraphiteStormReporter"
    daemons:
        - "supervisor"
        - "nimbus"
        - "worker"
    report.period: 1
    report.period.units: "SECONDS"
    graphite.host: "localhost"
    graphite.port: 8125

 # Console Reporter
  - class: "org.apache.storm.metrics2.reporters.ConsoleStormReporter"
    daemons:
        - "worker"
        - "nimbus"
        - "supervisor"
    report.period: 10
    report.period.units: "SECONDS"
    filter:
        class: "org.apache.storm.metrics2.filters.RegexFilter"
        expression: ".*my_component.*emitted.*"


